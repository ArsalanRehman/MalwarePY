import socket

# duruma gore SERVER_IP attackerin ip ile degistirilebilir ancak bos
# biraktigimiz zaman kullandiginiz makinenin ip adresini attacker ip adresi olarak kullanacak

SERVER_IP = ""
SERVER_PORT = 8080

if __name__ == "__main__":
    # ipv4 adresler icin AF_INET kullanilir
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

    # server ile  baglanmasi icin bind
    address = (SERVER_IP, SERVER_PORT)
    sock.bind(address)

    # baglanmasini istedigimiz cihaz(client) sayisi

    sock.listen(1)

    print("[+] Gelen bağlanti bekleniyor: ", SERVER_PORT)
    client_sock, client_add = sock.accept()
    print("[+] Bağlanti kuruldu: ", client_add)

    msg = "Sunucu testi"

    # mesaj bytes olarak gidecek
    client_sock.send(msg.encode())

    client_sock.close()
    sock.close()
