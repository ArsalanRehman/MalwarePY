from glob import glob
import os


def upload_files(my_socket):
    print("[+] Dosya yukleyin")
    # butun dosyalarin secilmesi icin files = glob("*") kullanildi
    files = glob("*")
    for index, filename in enumerate(files):
        new_filename = os.path.basename(filename)
        print("/t", index, "\t", new_filename)

    while True:
        try:
            file_index = int(input("[+] Dosya seciniz: "))
            if len(files) >= file_index >= 0:
                fileName = files[file_index]
                break
        except:
            print("[+] Yanlis dosya secildi")

    print("[+]Sectiginiz dosya ", fileName)
    my_socket.send_data(fileName)  # filename gondermek icin

    my_socket.send_file(fileName)  # dosyanin kendisini gondermek icin
