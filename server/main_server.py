from core.connection import ServerConnection
from core.handleConnection import handleConnection

if __name__ == "__main__":
    my_socket = ServerConnection()
    my_socket.createConnection("", 8080)
    print("[+] Sunucu baslatildi!")

    my_socket.listen()
    print("[+] İstemcinin 8080 numarali porta bağlanmasi bekleniyor")

    my_conn, _ = my_socket.acceptConnection()
    print("[+] İstemci ile bağlanti kuruldu")

    handleConnection(my_socket)

    my_conn.close()
